---
description:
globs: memory_bank/progress.md,memory_bank/progress.mdc
alwaysApply: false
---
# Task Numbering

This rule specifies how to number tasks in the progress.md file according to a standardized format, and defines the process for checking and updating task status.

## Task Numbering Format

- All tasks must be numbered using the format `X0000` where:
  - `X` is a letter indicating the task type (C=code, T=test, D=design, etc.)
  - `0000` is a sequential number (0001, 0002, etc.)
- Subtasks use hierarchical numbering: `X0000.1`, `X0000.2`, etc.
- Further subdivisions continue the pattern: `X0000.1.1`, `X0000.1.2`, etc.
- Numbering is continuous across all task types (next task after C0003 might be T0004)

## Task Type Prefixes

| Prefix | Task Type            | Examples                                    |
|--------|----------------------|---------------------------------------------|
| C      | Code implementation  | Engine, UI, gameplay features               |
| T      | Testing              | Unit tests, integration tests, QA           |
| D      | Design               | Visual design, UX, architecture diagrams    |
| R      | Research             | Tech evaluation, competitive analysis       |
| S      | Setup                | Environment, tools, configuration           |
| O      | Optimization         | Performance, memory, loading time           |
| A      | Asset creation       | Graphics, sounds, models                    |
| P      | Project management   | Planning, documentation, coordination       |
| M      | Maintenance          | Refactoring, bug fixes, technical debt      |

## Integration with Markdown

- Each task should be prefixed with its number before the task description
- Task numbering should be integrated into the existing checkboxes
- Format: `- ⬜ [X0000] Task description`

## Subtask Structure

Subtasks should be indented under their parent task:

```markdown
- ⬜ [C0001] Implement game engine
  - ⬜ [C0001.1] Create game loop
  - ⬜ [C0001.2] Implement state management
    - ⬜ [C0001.2.1] Define state interfaces
    - ⬜ [C0001.2.2] Create state transitions
```

## Initial Task Check

At the beginning of executing any task:

1. **Check for Uncommitted Changes**:
   - Before starting any new task, check if there are uncommitted changes
   - If changes exist, analyze which tasks they might be related to

2. **Review Task Status**:
   - Before proceeding, follow git-commit-rules-agent.mdc rules to determine if changes need to be committed

## Task Status Updates

When working on tasks:

1. **Mark Tasks as In-Progress**:
   - When starting a task, update its status in progress.md to indicate it's in progress (if applicable)

2. **Mark Tasks as Complete**:
   - When a task is finished, update the task status in progress.md from ⬜ to ✅
   - Ensure all subtasks are also completed if applicable

## Examples

### Valid Task Numbering

```markdown
- ⬜ [S0001] Set up development environment
- ⬜ [S0002] Configure TypeScript
- ⬜ [T0003] Set up Jest testing framework
- ⬜ [C0004] Implement canvas manager
  - ⬜ [C0004.1] Create responsive scaling
  - ⬜ [C0004.2] Implement rendering loop
- ⬜ [D0005] Design maze layout
```

### Invalid Task Numbering

```markdown
- ⬜ Set up development environment  # Missing task number
- ⬜ [S-1] Configure TypeScript  # Incorrect format
- ⬜ [T3] Set up Jest testing framework  # Missing leading zeros
- ⬜ [C0004] [C0005] Implement canvas manager  # Multiple numbers
```

## Task Splitting Process

When a task needs to be split:

1. Keep the original task as a parent/category
2. Create subtasks with hierarchical numbering
3. Preserve the original task's completion status
4. Update any relevant task descriptions

Example of task splitting:

Before:

```markdown
- ⬜ [C0042] Implement shooting mechanics
```

After:

```markdown
- ⬜ [C0042] Implement shooting mechanics
  - ⬜ [C0042.1] Create projectile entity
  - ⬜ [C0042.2] Implement firing controls
  - ⬜ [C0042.3] Add collision detection
```

## Implementation Process

1. At the beginning of any new task, check for uncommitted changes
2. If changes exist, follow git-commit-rules-agent.mdc rules to determine if they need to be committed
3. Update task status in progress.md (mark as in-progress or complete as appropriate)
